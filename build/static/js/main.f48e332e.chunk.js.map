{"version":3,"sources":["backend.js","Helper/authHelper.js","Container/Navbar.js","Components/Container.js","Helper/tweetHelper.js","Components/Profile/ProfilePic.js","Components/TweetInput.js","Components/Profile/Profile.js","Components/Reply.js","Components/ReplyInput.js","Components/TweetImage.js","Components/loader/Heart.js","Components/Tweet.js","Components/FollowingTab.js","Helper/userHelper.js","Components/Loading.js","Components/loader/Ring.js","Container/Home.js","Helper/utility.js","Components/loader/AuthLoader.js","Container/SignIn.js","Container/SignUp.js","Components/UserProfile.js","Container/UserBoard.js","Components/UserProfileUpdate.js","Container/UploadProfile.js","Routes.js","index.js"],"names":["API","process","isAuthenticated","undefined","window","localStorage","getItem","JSON","parse","signin","user","a","fetch","method","headers","Accept","body","stringify","res","json","console","log","signout","next","removeItem","err","signup","currentTab","history","path","location","pathname","color","React","memo","withRouter","navLink","title","route","className","style","to","onClick","push","Container","children","token","createTweet","tweet","username","Authorization","getTimeline","getTweets","getReplies","tweetId","createReply","reply","text","ProfilePic","resolution","pic","image","src","alt","TweetInput","useState","picture","formData","data","setData","error","setError","loading","setLoading","handleChange","name","event","value","target","files","set","useEffect","FormData","info","maxWidth","rows","maxLength","onChange","placeholder","type","role","aria-valuenow","aria-valuemin","aria-valuemax","width","e","preventDefault","then","resp","href","catch","Profile","bio","Reply","deleteReply","_id","userId","height","moment","createdAt","format","ReplyInput","setReply","Heart","class","Tweet","liked","likes","tweetDetials","setTweetDetials","showReply","setShowReply","replies","setReplies","loadingReply","setLoadingReply","loadinglike","setLoadinglike","reverse","deleteTweet","maxHeight","map","key","FollowingTab","getProfile","editProfile","userData","uploadProfilePic","getFollowers","Loading","Ring","Home","timelineTweets","setTimelineTweets","followers","setFollowers","Navbar","length","follower","Message","msg","AuthLoader","SignIn","email","password","didRedirect","values","setValues","required","setItem","authenticate","performRedirect","UserProfile","auth","minHeight","youFollow","followYou","birthdate","calendar","following","UserBoard","match","setUserData","userTweets","setUserTweets","loadingP","setLoadingP","loadingT","setLoadingT","loadingF","setLoadingF","params","seterror","setloading","redirect","setredirect","localData","App","upImg","setUpImg","imgRef","setImgRef","unit","aspect","crop","setCrop","previewUrl","setPreviewUrl","setImage","setRedirect","onLoad","useCallback","img","makeClientCrop","createCropPreview","fileName","canvas","document","createElement","scaleX","naturalWidth","scaleY","naturalHeight","getContext","drawImage","x","y","Promise","resolve","reject","toBlob","blob","URL","revokeObjectURL","createObjectURL","Error","accept","reader","FileReader","addEventListener","result","readAsDataURL","onImageLoaded","c","onComplete","disabled","Routes","exact","component","SignUp","UploadProfile","UserProfileUpdate","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.f48e332e.chunk.js","sourcesContent":["export const API = process.env.REACT_APP_BACKEND;\r\n","import { API } from \"../backend\";\r\nexport const isAuthenticated = () => {\r\n  if (typeof window == undefined) {\r\n    return false;\r\n  }\r\n  if (localStorage.getItem(\"jwt\")) {\r\n    return JSON.parse(localStorage.getItem(\"jwt\"));\r\n  } else {\r\n    return false;\r\n  }\r\n};\r\n\r\nexport const authenticate = (data, next) => {\r\n  if (typeof window !== undefined) {\r\n    localStorage.setItem(\"jwt\", JSON.stringify(data));\r\n    next();\r\n  }\r\n};\r\n\r\nexport const signin = async (user) => {\r\n  try {\r\n    const res = await fetch(`${API}/signin`, {\r\n      method: \"POST\",\r\n      headers: {\r\n        Accept: \"Application/json\",\r\n        \"Content-type\": \"Application/json\",\r\n      },\r\n      body: JSON.stringify(user),\r\n    });\r\n    return res.json();\r\n  } catch (err) {\r\n    return console.log(err);\r\n  }\r\n};\r\nexport const signout = async (next) => {\r\n  if (typeof window !== undefined) {\r\n    localStorage.removeItem(\"jwt\");\r\n    try {\r\n      fetch(`${API}/signout`, {\r\n        method: \"GET\",\r\n      });\r\n    } catch (err) {\r\n      console.log(err);\r\n    }\r\n    next();\r\n  }\r\n};\r\nexport const signup = async (user) => {\r\n  try {\r\n    const res = await fetch(`${API}/signup`, {\r\n      method: \"POST\",\r\n      headers: {\r\n        Accept: \"application/json\",\r\n        \"Content-type\": \"application/json\",\r\n      },\r\n      body: JSON.stringify(user),\r\n    });\r\n    return res.json();\r\n  } catch (err) {\r\n    return console.log(err);\r\n  }\r\n};\r\n","import React from \"react\";\r\nimport { Link, withRouter, Redirect } from \"react-router-dom\";\r\nimport { isAuthenticated, signout } from \"../Helper/authHelper\";\r\nconst currentTab = (history, path) => {\r\n  return history.location.pathname === path\r\n    ? { color: \"#007bff\" }\r\n    : { color: \"#FFFFFF\" };\r\n};\r\nconst Menu = ({ history }) => {\r\n  const navLink = (title, route, currentTab, history) => (\r\n    <div className=\"col-12 h5 p-2\">\r\n      <Link style={currentTab(history, route)} to={route}>\r\n        {title}\r\n      </Link>\r\n    </div>\r\n  );\r\n  return (\r\n    <div className=\"row rounded-lg shadow-lg bg-dark text-white text-center my-3 mx-1\">\r\n      {!isAuthenticated() && <Redirect to=\"signin\" />}\r\n      {navLink(\"Home\", \"/\", currentTab, history)}\r\n      {isAuthenticated()\r\n        ? navLink(`Profile`, `/me`, currentTab, history)\r\n        : null}\r\n      {!isAuthenticated()\r\n        ? navLink(`SignUp`, \"/signup\", currentTab, history)\r\n        : null}\r\n      {!isAuthenticated() ? (\r\n        navLink(\"SignIn\", \"/signin\", currentTab, history)\r\n      ) : (\r\n        <div\r\n          className=\"h5 col-12 p-2 text-danger\"\r\n          onClick={() => {\r\n            signout(() => {\r\n              history.push(\"/\");\r\n            });\r\n          }}\r\n        >\r\n          Logout\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\nexport default React.memo(withRouter(Menu));\r\n","import React from \"react\";\r\n\r\nexport default function Container({ children }) {\r\n  return <div className=\"container\">{children}</div>;\r\n}\r\n","import { API } from \"../backend\";\r\nimport { isAuthenticated } from \"./authHelper\";\r\nconst { user, token } = isAuthenticated();\r\nexport const createTweet = async (tweet, username, token) => {\r\n  try {\r\n    const res = await fetch(`${API}/tweet/create/${username}`, {\r\n      method: \"POST\",\r\n      headers: {\r\n        Accept: \"application/json\",\r\n        Authorization: `Bearer ${token}`,\r\n      },\r\n      body: tweet,\r\n    });\r\n    return res.json();\r\n  } catch (err) {}\r\n};\r\n\r\nexport const getTimeline = async () => {\r\n  try {\r\n    const res = await fetch(`${API}/timeline/${user.username}`, {\r\n      method: \"GET\",\r\n      headers: {\r\n        Accept: \"application/json\",\r\n        Authorization: `Bearer ${token}`,\r\n      },\r\n    });\r\n    return res.json();\r\n  } catch (err) {\r\n    return console.log(err);\r\n  }\r\n};\r\n\r\nexport const getTweets = async (username) => {\r\n  try {\r\n    const res = await fetch(`${API}/tweets/${username}`, {\r\n      method: \"GET\",\r\n      headers: {\r\n        Accept: \"application/json\",\r\n        Authorization: `Bearer ${token}`,\r\n      },\r\n    });\r\n    return res.json();\r\n  } catch (err) {\r\n    return console.log(err);\r\n  }\r\n};\r\n\r\nexport const getReplies = async (tweetId) => {\r\n  try {\r\n    const res = await fetch(`${API}/tweet/${tweetId}/replies`, {\r\n      method: \"GET\",\r\n      headers: {\r\n        Accept: \"application/json\",\r\n        Authorization: `Bearer ${token}`,\r\n      },\r\n    });\r\n    return res.json();\r\n  } catch (err) {\r\n    return console.log(err);\r\n  }\r\n};\r\n\r\nexport const createReply = async (reply, tweetId) => {\r\n  try {\r\n    const res = await fetch(`${API}/tweet/${tweetId}/reply`, {\r\n      method: \"POST\",\r\n      headers: {\r\n        Accept: \"application/json\",\r\n        \"Content-Type\": \"application/json\",\r\n        Authorization: `Bearer ${token}`,\r\n      },\r\n      body: JSON.stringify({ text: reply }),\r\n    });\r\n    return res.json();\r\n  } catch (err) {}\r\n};\r\n","import React from \"react\";\r\nimport { API } from \"../../backend\";\r\n\r\nexport default function ProfilePic({ className, username, resolution }) {\r\n  let pic = `${API}/profile/${username}/picture`;\r\n  console.log(pic);\r\n  let image = pic ? pic : \"https://img.icons8.com/color/480/000000/twitter.png\";\r\n  return (\r\n    <img\r\n      src={image}\r\n      alt=\"\"\r\n      style={resolution}\r\n      className={`mb-3 rounded ${className}`}\r\n    />\r\n  );\r\n}\r\n","/* eslint-disable no-unused-vars */\r\nimport React, { useState, useEffect } from \"react\";\r\nimport { API } from \"../backend\";\r\nimport { isAuthenticated } from \"../Helper/authHelper\";\r\nimport { createTweet } from \"../Helper/tweetHelper\";\r\nimport ProfilePic from \"./Profile/ProfilePic\";\r\n\r\nexport default function TweetInput() {\r\n  const [data, setData] = useState({\r\n    tweet: \"\",\r\n    picture: undefined,\r\n    formData: \"\",\r\n  });\r\n  const { formData, picture, tweet } = data;\r\n  const [error, setError] = useState(\"\");\r\n  const [loading, setLoading] = useState(false);\r\n  const { user, token } = isAuthenticated();\r\n\r\n  const handleChange = (name) => (event) => {\r\n    setError(\"\");\r\n    const value =\r\n      name === \"picture\" ? event.target.files[0] : event.target.value;\r\n    formData.set(name, value);\r\n    setData({ ...data, [name]: value });\r\n  };\r\n\r\n  const preload = () => {\r\n    setData({ formData: new FormData() });\r\n  };\r\n\r\n  useEffect(() => {\r\n    preload();\r\n  }, []);\r\n\r\n  const onSubmit = (event) => {\r\n    event.preventDefault();\r\n    setError(\"\");\r\n    if (tweet) {\r\n      setLoading(true);\r\n      createTweet(formData, user.username, token)\r\n        .then((resp) => {\r\n          if (resp.error) {\r\n            setError(resp.error);\r\n          }\r\n          setLoading(false);\r\n          setData({ ...data, tweet: \"\", picture: undefined });\r\n          window.location.href = `/user/${user.username}`;\r\n        })\r\n        .catch((err) => {\r\n          setLoading(false);\r\n          setData({ ...data, tweet: \"\", picture: undefined });\r\n        });\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"row border border-right-0 border-left-0 border-dark py-2\">\r\n      <div className=\"col-2\">\r\n        <div className=\"col-2 py-2 \">\r\n          <ProfilePic\r\n            username={user.username}\r\n            info=\"main\"\r\n            className={`rounded-circle`}\r\n            resolution={{ maxWidth: \"80px\" }}\r\n          />\r\n        </div>\r\n      </div>\r\n      <div className=\"col-10\">\r\n        <form className=\"my-2\">\r\n          <div className=\"form-row align-items-center \">\r\n            <div className=\"form-group col-md-12\">\r\n              <textarea\r\n                className=\"form-control bg-transparent border border-dark text-white mx-1\"\r\n                rows=\"3\"\r\n                maxLength=\"200\"\r\n                onChange={handleChange(\"tweet\")}\r\n                value={tweet}\r\n                placeholder=\"What's happning?\"\r\n              ></textarea>\r\n            </div>\r\n            <div className=\"form-group col-md-3\">\r\n              <div className=\"form-group  rounded-lg p-0 border border-primary\">\r\n                <input\r\n                  type=\"file\"\r\n                  onChange={handleChange(\"picture\")}\r\n                  className=\"form-control p-1 bg-primary  border border-primary\"\r\n                />\r\n              </div>\r\n            </div>\r\n            <div className=\"form-group col-md-6\">\r\n              {loading ? (\r\n                <span className=\"progress\">\r\n                  <span\r\n                    className=\"progress-bar progress-bar-striped progress-bar-animated\"\r\n                    role=\"progressbar\"\r\n                    aria-valuenow=\"100\"\r\n                    aria-valuemin=\"0\"\r\n                    aria-valuemax=\"100\"\r\n                    style={{ width: \"100%\" }}\r\n                  ></span>\r\n                </span>\r\n              ) : (\r\n                <p className=\"text-warning\">{error}</p>\r\n              )}\r\n            </div>\r\n            <div className=\"form-group col-md-3\">\r\n              <button\r\n                onClick={(e) => onSubmit(e, user.username, token, tweet)}\r\n                type=\"submit\"\r\n                className=\"btn btn-primary mx-3 px-3 rounded-pill\"\r\n              >\r\n                Submit\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { isAuthenticated } from \"../../Helper/authHelper\";\r\nimport ProfilePic from \"./ProfilePic\";\r\n\r\nconst Profile = () => {\r\n  const { user } = isAuthenticated();\r\n\r\n  return (\r\n    <div className=\"row justify-content-center \">\r\n      <div className=\"col-12\">\r\n        <div\r\n          className=\"card rounded-lg bg-dark shadow my-1\"\r\n          style={{ width: \"18rem\" }}\r\n        >\r\n          <ProfilePic\r\n            username={user.username}\r\n            className={\"rounded-circle border border-primary\"}\r\n            resolution={{ width: \"100%\" }}\r\n          />\r\n          <div className=\"card-body text-white text-left\">\r\n            <h4 className=\"card-title\">{user.name}</h4>\r\n            <p className=\"card-text py-1\">{user.bio}</p>\r\n            <Link to={`/user/${user.username}`} className=\"h5 text-info\">\r\n              @{user.username}\r\n            </Link>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\nexport default Profile;\r\n","/* eslint-disable no-self-assign */\r\nimport React from \"react\";\r\nimport moment from \"moment\";\r\nimport { Link } from \"react-router-dom\";\r\nimport ProfilePic from \"./Profile/ProfilePic\";\r\nimport { isAuthenticated } from \"../Helper/authHelper\";\r\nimport { API } from \"../backend\";\r\n\r\nexport default function Reply({ reply }) {\r\n  const { user, token } = isAuthenticated();\r\n  const deleteReply = async () => {\r\n    try {\r\n      const res = await fetch(`${API}/reply/${reply._id}/delete`, {\r\n        method: \"DELETE\",\r\n        headers: {\r\n          Accept: \"application/json\",\r\n          Authorization: `Bearer ${token}`,\r\n        },\r\n      });\r\n      if (res.error) {\r\n        return console.log(res.error);\r\n      }\r\n      return (window.location.href = window.location.href);\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  };\r\n  return (\r\n    <div className=\"col-11 bg-dark p-3 my-1 \">\r\n      <div className=\"row justify-content-right\">\r\n        <div className=\"col-1\">\r\n          <ProfilePic\r\n            username={reply.userId.username}\r\n            className=\"rounded-circle border border-white\"\r\n            resolution={{ width: \"25px\", height: \"25px\" }}\r\n          />\r\n        </div>\r\n        <div className=\"col-10\">\r\n          <Link\r\n            className=\"font-weight-bold h6 text-white mx-1\"\r\n            to={`/user/${reply.userId.username}`}\r\n          >\r\n            {reply.userId.name}\r\n          </Link>\r\n          <span className=\"text-white-50 \">\r\n            {moment(reply.createdAt).format(\"lll\")}\r\n          </span>\r\n          {(reply.userId._id === user._id || reply.to === user._id) && (\r\n            <span\r\n              className=\"m-1 material-icons text-danger\"\r\n              onClick={deleteReply}\r\n            >\r\n              delete\r\n            </span>\r\n          )}\r\n        </div>\r\n      </div>\r\n      <div className=\"row justify-content-center mx-2 \">\r\n        <div className=\"col-10 text-white\">\r\n          <p>{reply.text}</p>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","/* eslint-disable no-self-assign */\r\nimport React, { useState } from \"react\";\r\nimport { createReply } from \"../Helper/tweetHelper\";\r\n\r\nexport default function ReplyInput({ tweetId }) {\r\n  const [reply, setReply] = useState(\"\");\r\n\r\n  const handleChange = (name) => (event) => {\r\n    const value = event.target.value;\r\n    setReply(value);\r\n  };\r\n\r\n  const onSubmit = (event) => {\r\n    event.preventDefault();\r\n    if (reply) {\r\n      createReply(reply, tweetId)\r\n        .then((res) => {\r\n          if (res.error) {\r\n            return console.log(res.error);\r\n          }\r\n          window.location.href = window.location.href;\r\n        })\r\n        .catch((err) => {\r\n          return console.log(\"Reply fail\");\r\n        });\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"col-11 bg-dark p-3 my-2 \">\r\n      <div className=\"row justify-content-right\">\r\n        <div className=\"col-10\">\r\n          <div className=\"form-group\">\r\n            <textarea\r\n              className=\"form-control bg-transparent border border-primary text-white\"\r\n              rows=\"2\"\r\n              maxLength=\"100\"\r\n              onChange={handleChange(\"tweet\")}\r\n              value={reply}\r\n              placeholder=\"What's happning?\"\r\n            ></textarea>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div className=\"row justify-content-right\">\r\n        <div className=\"col-3\">\r\n          <button className=\"btn btn-primary btn-block\" onClick={onSubmit}>\r\n            Reply\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport { API } from \"../backend\";\r\n\r\nexport default function ProfilePic({ className, tweetId, resolution }) {\r\n  let pic = `${API}/tweet/${tweetId}/picture`;\r\n  let image = pic ? pic : \"https://img.icons8.com/color/480/000000/twitter.png\";\r\n  return (\r\n    <img\r\n      src={image}\r\n      alt=\"\"\r\n      style={resolution}\r\n      className={`mb-3 rounded ${className}`}\r\n    />\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport \"./heart.css\";\r\nexport default function Heart() {\r\n  return (\r\n    <span class=\"lds-heart\">\r\n      <span></span>\r\n    </span>\r\n  );\r\n}\r\n","/* eslint-disable no-self-assign */\r\n/* eslint-disable react-hooks/exhaustive-deps */\r\nimport React, { useState, useEffect, Fragment } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport ProfilePic from \"./Profile/ProfilePic\";\r\nimport { API } from \"../backend\";\r\nimport { isAuthenticated } from \"../Helper/authHelper\";\r\nimport moment from \"moment\";\r\nimport Reply from \"./Reply\";\r\nimport { getReplies } from \"../Helper/tweetHelper\";\r\nimport ReplyInput from \"./ReplyInput\";\r\nimport TweetImage from \"../Components/TweetImage\";\r\nimport Heart from \"./loader/Heart\";\r\nexport default function Tweet({ tweet }) {\r\n  const [tweetDetials, setTweetDetials] = useState({\r\n    liked: tweet.liked,\r\n    likes: tweet.likes,\r\n  });\r\n  const [showReply, setShowReply] = useState(false);\r\n  const [replies, setReplies] = useState([]);\r\n  const { liked, likes } = tweetDetials;\r\n  const { user, token } = isAuthenticated();\r\n  const [loadingReply, setLoadingReply] = useState(false);\r\n  const [loadinglike, setLoadinglike] = useState(false);\r\n\r\n  useEffect(() => {\r\n    setLoadingReply(true);\r\n    showReply &&\r\n      getReplies(tweet._id)\r\n        .then((res) => {\r\n          if (res.error) {\r\n            return console.log(res.error);\r\n          }\r\n          setLoadingReply(false);\r\n          return setReplies(res.reverse());\r\n        })\r\n        .catch((err) => {\r\n          console.log(err);\r\n        });\r\n  }, [showReply, likes]);\r\n\r\n  const likeTweet = () => {\r\n    setLoadinglike(true);\r\n    fetch(`${API}/tweet/${tweet._id}/react`, {\r\n      method: \"POST\",\r\n      headers: {\r\n        Accept: \"application/json\",\r\n        Authorization: `Bearer ${token}`,\r\n      },\r\n      body: JSON.stringify({}),\r\n    })\r\n      .then((res) => {\r\n        setTweetDetials({\r\n          likes: !liked ? likes + 1 : likes - 1,\r\n          liked: !liked,\r\n        });\r\n        setLoadinglike(false);\r\n      })\r\n      .catch((err) => console.log(err));\r\n  };\r\n\r\n  const seeReply = () => {\r\n    setShowReply(!showReply);\r\n  };\r\n  const deleteTweet = async () => {\r\n    const res = await fetch(`${API}/tweet/${tweet._id}/delete`, {\r\n      method: \"DELETE\",\r\n      headers: {\r\n        Accept: \"application/json\",\r\n        Authorization: `Bearer ${token}`,\r\n      },\r\n    });\r\n    if (res.error) {\r\n      return console.log(res.error);\r\n    }\r\n    window.location.href = window.location.href;\r\n  };\r\n\r\n  return (\r\n    <div className=\"row border-bottom border-secondary py-3 justify-content-center    \">\r\n      <div className=\"col-1\">\r\n        <ProfilePic\r\n          className=\"rounded-circle\"\r\n          username={tweet.userId.username}\r\n          resolution={{ maxWidth: \"40px\", maxHeight: \"40px\" }}\r\n        />\r\n      </div>\r\n      <div className=\"col-11\">\r\n        <div className=\"row align-item-center px-2\">\r\n          <div className=\"col-12\">\r\n            <Link\r\n              className=\"font-weight-bold h5 text-white \"\r\n              to={`/user/${tweet.userId.username}`}\r\n            >\r\n              {tweet.userId.name}\r\n            </Link>\r\n\r\n            <span className=\"text-white-50 px-1\">@{tweet.userId.username}</span>\r\n\r\n            <Link\r\n              to={`/${tweet.userId.username}/tweets/${tweet._id}`}\r\n              className=\"text-white-50 px-2\"\r\n            >\r\n              {moment(tweet.createdAt).format(\"LLL\")}\r\n            </Link>\r\n\r\n            {tweet.userId._id === user._id && (\r\n              <span\r\n                className=\" material-icons text-secondary m-1\"\r\n                onClick={deleteTweet}\r\n              >\r\n                delete\r\n              </span>\r\n            )}\r\n          </div>\r\n          <div className=\"col-12 py-2\">\r\n            <p className=\"text-white\">{tweet.tweet}</p>\r\n          </div>\r\n          <div className=\"row justify-content-center\">\r\n            <div className=\"col-10 py-1 mx-5\">\r\n              <TweetImage tweetId={tweet._id} resolution={{ width: \"100%\" }} />\r\n            </div>\r\n          </div>\r\n          <div className=\"row justify-content-center\">\r\n            <div className=\" offset-1 col-3 \">\r\n              <span onClick={seeReply} className=\"text-white-50 mx-4\">\r\n                <span class=\"material-icons text-primary my-1\">\r\n                  mode_comment\r\n                </span>\r\n              </span>\r\n            </div>\r\n            <div\r\n              onClick={likeTweet}\r\n              className={`col-4 mx-4 my-1   ${\r\n                liked ? \"text-danger\" : \"text-white-50\"\r\n              }`}\r\n            >\r\n              <p>\r\n                {loadinglike ? (\r\n                  <Heart />\r\n                ) : (\r\n                  <Fragment>\r\n                    <span class={`material-icons`}>\r\n                      {liked ? \"favorite\" : \"favorite_border\"}\r\n                    </span>\r\n                    {likes ? likes : \"\"}\r\n                  </Fragment>\r\n                )}\r\n              </p>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      {showReply && (\r\n        <Fragment>\r\n          <ReplyInput tweetId={tweet._id} />\r\n          {loadingReply ? (\r\n            <p className=\"text-primary h5\">Loading...</p>\r\n          ) : (\r\n            replies.map((reply) => {\r\n              return <Reply reply={reply} key={reply._id} />;\r\n            })\r\n          )}\r\n        </Fragment>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nexport default function FollowingTab({ user }) {\r\n  return (\r\n    <div className=\"row align-item-center my-1\">\r\n      <div className=\"col-12 \">\r\n        <span className=\"font-weight-bold h6 text-white px-1\">\r\n          {user.to.name}\r\n        </span>\r\n        <Link className=\"text-secondary\" to={`/user/${user.to.username}`}>\r\n          @{user.to.username}\r\n        </Link>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import { API } from \"../backend\";\r\nimport { isAuthenticated } from \"./authHelper\";\r\nconst { user, token } = isAuthenticated();\r\n\r\nexport const getProfile = async (username) => {\r\n  try {\r\n    const res = await fetch(`${API}/profile/${username}`, {\r\n      method: \"GET\",\r\n      headers: {\r\n        Accept: \"application/json\",\r\n        \"Content-type\": \"application/json\",\r\n        Authorization: `Bearer ${token}`,\r\n      },\r\n    });\r\n    return res.json();\r\n  } catch (err) {\r\n    return console.log(err);\r\n  }\r\n};\r\n\r\nexport const editProfile = async (username, userData) => {\r\n  try {\r\n    const res = await fetch(`${API}/profile/${username}/edit`, {\r\n      method: \"PUT\",\r\n      headers: {\r\n        Accept: \"application/json\",\r\n        \"Content-type\": \"application/json\",\r\n        Authorization: `Bearer ${token}`,\r\n      },\r\n      body: JSON.stringify(userData),\r\n    });\r\n    return await res.json();\r\n  } catch (err) {\r\n    return console.log(err);\r\n  }\r\n};\r\n\r\nexport const uploadProfilePic = async (picture) => {\r\n  console.log(picture);\r\n  try {\r\n    const res = await fetch(`${API}/profile/${user.username}/upload/picture`, {\r\n      method: \"PUT\",\r\n      headers: {\r\n        Accept: \"application/json\",\r\n        Authorization: `Bearer ${token}`,\r\n      },\r\n      body: picture,\r\n    });\r\n    return console.log(res);\r\n  } catch (err) {\r\n    return console.log(err);\r\n  }\r\n};\r\n\r\nexport const getFollowers = async (username) => {\r\n  try {\r\n    const res = await fetch(`${API}/following/${username}`, {\r\n      method: \"GET\",\r\n      headers: {\r\n        Accept: \"application/json\",\r\n        \"Content-type\": \"application/json\",\r\n        Authorization: `Bearer ${token}`,\r\n      },\r\n    });\r\n    return res.json();\r\n  } catch (err) {\r\n    return console.log(err);\r\n  }\r\n};\r\n","import React from \"react\";\r\n\r\nexport default function Loading() {\r\n  return (\r\n    <span className=\"progress m-3\">\r\n      <span\r\n        className=\"progress-bar progress-bar-striped progress-bar-animated\"\r\n        role=\"progressbar\"\r\n        aria-valuenow=\"100\"\r\n        aria-valuemin=\"0\"\r\n        aria-valuemax=\"100\"\r\n        style={{ width: \"100%\" }}\r\n      ></span>\r\n    </span>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport \"./ring.css\";\r\nexport default function Ring() {\r\n  return <div class=\"lds-hourglass\"></div>;\r\n}\r\n","/* eslint-disable react-hooks/exhaustive-deps */\r\nimport React, { useState, useEffect } from \"react\";\r\nimport Navbar from \"./Navbar\";\r\nimport \"../index.css\";\r\nimport Container from \"../Components/Container\";\r\nimport { isAuthenticated } from \"../Helper/authHelper\";\r\nimport TweetInput from \"../Components/TweetInput\";\r\nimport Profile from \"../Components/Profile/Profile\";\r\nimport { getTimeline } from \"../Helper/tweetHelper\";\r\nimport Tweet from \"../Components/Tweet\";\r\nimport FollowingTab from \"../Components/FollowingTab\";\r\nimport { getFollowers } from \"../Helper/userHelper\";\r\nimport { Redirect } from \"react-router-dom\";\r\nimport Loading from \"../Components/Loading\";\r\nimport Ring from \"../Components/loader/Ring\";\r\nconst Home = () => {\r\n  const [timelineTweets, setTimelineTweets] = useState([]);\r\n  const [followers, setFollowers] = useState([]);\r\n  const [error, setError] = useState(false);\r\n  const [loading, setLoading] = useState(false);\r\n  const { user } = isAuthenticated();\r\n\r\n  const preload = () => {\r\n    if (isAuthenticated()) {\r\n      getFollowers(user.username).then((res) => {\r\n        if (res.error) {\r\n          setLoading(false);\r\n          setError(res.error);\r\n        }\r\n        setFollowers(res);\r\n      });\r\n\r\n      getTimeline().then((res) => {\r\n        if (res.error) {\r\n          setLoading(false);\r\n          setError(res.error);\r\n        }\r\n        setLoading(false);\r\n        setTimelineTweets(res);\r\n      });\r\n    }\r\n  };\r\n  useEffect(() => {\r\n    setLoading(true);\r\n    preload();\r\n  }, []);\r\n  const timeline = () => {\r\n    return (\r\n      <div className=\"row\">\r\n        <div className=\"col-2\">\r\n          <Navbar />\r\n        </div>\r\n        <div className=\"col-6 \">\r\n          <div className=\"row  border border-top-0 border-bottom-0 border-dark p-0\">\r\n            <div className=\"col-12\">\r\n              <h4 className=\"text-white px-3 py-2\">Home</h4>\r\n              <TweetInput />\r\n              {loading ? (\r\n                <Loading />\r\n              ) : timelineTweets.length > 0 ? (\r\n                timelineTweets.map((tweet) => {\r\n                  return <Tweet tweet={tweet} key={tweet._id} />;\r\n                })\r\n              ) : (\r\n                <h1 className=\"text-white\">{error}</h1>\r\n              )}\r\n            </div>\r\n            <div className=\"col-12\"></div>\r\n          </div>\r\n        </div>\r\n        <div className=\"col-4\">\r\n          <div className=\"row position-fixed\">\r\n            <div className=\"col-12 \">{loading ? <Ring /> : <Profile />}</div>\r\n            <div className=\"col-12 my-2\">\r\n              <div\r\n                className=\"card rounded-lg border-0\"\r\n                style={{ width: \"18rem\" }}\r\n              >\r\n                <div className=\"card-header bg-primary text-center text-white h4 \">\r\n                  Following\r\n                </div>\r\n                <ul className=\"list-group list-group-flush\">\r\n                  {followers.map((follower) => (\r\n                    <li\r\n                      className=\"list-group-item bg-dark text-white\"\r\n                      key={follower._id}\r\n                    >\r\n                      <FollowingTab user={follower} />\r\n                    </li>\r\n                  ))}\r\n                </ul>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      {!user && <Redirect to=\"/signin\" />}\r\n      <Container>{user && timeline()}</Container>\r\n    </div>\r\n  );\r\n};\r\nexport default Home;\r\n","import React from \"react\";\r\nexport const Message = (msg, type) => {\r\n  return (\r\n    <div\r\n      className={\r\n        type === \"Error\" ? \"alert alert-danger\" : \"alert alert-success\"\r\n      }\r\n    >\r\n      <h5>{msg}</h5>\r\n    </div>\r\n  );\r\n};\r\n","import React from \"react\";\r\nimport \"./auth.css\";\r\nexport default function AuthLoader() {\r\n  return (\r\n    <div class=\"lds-grid\">\r\n      <div></div>\r\n      <div></div>\r\n      <div></div>\r\n      <div></div>\r\n      <div></div>\r\n      <div></div>\r\n      <div></div>\r\n      <div></div>\r\n      <div></div>\r\n    </div>\r\n  );\r\n}\r\n","/* eslint-disable no-unused-vars */\r\nimport React, { useState, Fragment } from \"react\";\r\nimport Container from \"../Components/Container\";\r\nimport Navbar from \"./Navbar\";\r\nimport { signin, isAuthenticated, authenticate } from \"../Helper/authHelper\";\r\nimport { Redirect, Link } from \"react-router-dom\";\r\nimport { Message } from \"../Helper/utility\";\r\nimport AuthLoader from \"../Components/loader/AuthLoader\";\r\n\r\nconst SignIn = () => {\r\n  const [values, setValues] = useState({\r\n    email: \"vardhan4@gmail.com\",\r\n    password: \"123456\",\r\n    error: \"\",\r\n    loading: false,\r\n    didRedirect: false,\r\n  });\r\n\r\n  const { email, password, error, loading, didRedirect } = values;\r\n  const { user } = isAuthenticated();\r\n\r\n  const handleChange = (name) => (event) => {\r\n    setValues({\r\n      ...values,\r\n      error: false,\r\n      [name]: event.target.value,\r\n    });\r\n  };\r\n  const onSubmit = (event) => {\r\n    event.preventDefault();\r\n    setValues({ ...values, error: false, loading: true });\r\n    signin({ email, password })\r\n      .then((data) => {\r\n        if (data.error) {\r\n          setValues({ ...values, error: data.error, loading: false });\r\n        } else {\r\n          authenticate(data, () => {\r\n            setValues({ ...values, didRedirect: true });\r\n          });\r\n        }\r\n      })\r\n      .catch((err) => console.log(\"Signin Failed!\"));\r\n  };\r\n  //TODO - do a redirect\r\n  const performRedirect = () => {\r\n    if (isAuthenticated()) {\r\n      return <Redirect to=\"/me\" />;\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <Container>\r\n        <div className=\"row justify-content-center\">\r\n          <div className=\"col-4\">\r\n            <form className=\"my-5\">\r\n              {error && Message(error, \"Error\")}\r\n              <h1 className=\"text-center text-white my-5\">Sign In</h1>\r\n              {!loading ? (\r\n                <Fragment>\r\n                  <div className=\"form-group\">\r\n                    <label className=\"text-white\">Email address</label>\r\n                    <input\r\n                      type=\"email\"\r\n                      name=\"email\"\r\n                      onChange={handleChange(\"email\")}\r\n                      className=\"form-control\"\r\n                      placeholder=\"Email\"\r\n                      required\r\n                      value={email}\r\n                    />\r\n                  </div>\r\n                  <div className=\"form-group\">\r\n                    <label className=\"text-white\">Password</label>\r\n                    <input\r\n                      required\r\n                      name=\"password\"\r\n                      onChange={handleChange(\"password\")}\r\n                      placeholder=\"Password\"\r\n                      type=\"password\"\r\n                      value={password}\r\n                      className=\"form-control\"\r\n                    />\r\n                  </div>\r\n                </Fragment>\r\n              ) : (\r\n                <AuthLoader />\r\n              )}\r\n              <button\r\n                onClick={onSubmit}\r\n                // type=\"submit\"\r\n                className=\"btn btn-lg btn-primary btn-block rounded-pill my-2 \"\r\n              >\r\n                Sign In\r\n              </button>\r\n              {performRedirect()}\r\n            </form>\r\n            <Link\r\n              to=\"/signup\"\r\n              className=\"btn btn-lg btn-secondary btn-block rounded-pill my-2 \"\r\n            >\r\n              Sign Up\r\n            </Link>\r\n          </div>\r\n        </div>\r\n      </Container>\r\n    </div>\r\n  );\r\n};\r\nexport default SignIn;\r\n","/* eslint-disable no-unused-vars */\r\nimport React, { useState, Fragment } from \"react\";\r\nimport Container from \"../Components/Container\";\r\nimport Navbar from \"./Navbar\";\r\nimport { signup, isAuthenticated, authenticate } from \"../Helper/authHelper\";\r\nimport { Redirect, Link } from \"react-router-dom\";\r\nimport { Message } from \"../Helper/utility\";\r\nimport AuthLoader from \"../Components/loader/AuthLoader\";\r\n\r\nconst SignUp = () => {\r\n  const [values, setValues] = useState({\r\n    email: \"\",\r\n    password: \"\",\r\n    name: \"\",\r\n    error: \"\",\r\n    loading: false,\r\n    didRedirect: false,\r\n  });\r\n\r\n  const { email, password, name, error, loading, didRedirect } = values;\r\n\r\n  const { user } = isAuthenticated();\r\n\r\n  const handleChange = (name) => (event) => {\r\n    setValues({\r\n      ...values,\r\n      error: false,\r\n      [name]: event.target.value,\r\n    });\r\n  };\r\n  const onSubmit = (event) => {\r\n    event.preventDefault();\r\n    setValues({ ...values, error: false, loading: true });\r\n    signup({ email, password, name })\r\n      .then((data) => {\r\n        if (data.error) {\r\n          setValues({ ...values, error: data.error, loading: false });\r\n        } else {\r\n          setValues({ ...values, didRedirect: true });\r\n        }\r\n      })\r\n      .catch((err) => {\r\n        setValues({ ...values, error: \"SignUp Failed!\" });\r\n      });\r\n  };\r\n  //TODO - do a redirect\r\n  const performRedirect = () => {\r\n    if (didRedirect) {\r\n      return <Redirect to=\"/signin\" />;\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <Container>\r\n        <div className=\"row justify-content-center\">\r\n          <div className=\"col-4\">\r\n            <form className=\"my-5\">\r\n              {error && Message(error, \"Error\")}\r\n              <h1 className=\"text-center text-white my-5\">Sign Up</h1>\r\n              {!loading ? (\r\n                <Fragment>\r\n                  <div className=\"form-group\">\r\n                    <label className=\"text-white\">Name</label>\r\n                    <input\r\n                      type=\"text\"\r\n                      onChange={handleChange(\"name\")}\r\n                      className=\"form-control\"\r\n                      placeholder=\"Name\"\r\n                      required\r\n                    />\r\n                  </div>\r\n                  <div className=\"form-group\">\r\n                    <label className=\"text-white\">Email address</label>\r\n                    <input\r\n                      required\r\n                      type=\"email\"\r\n                      onChange={handleChange(\"email\")}\r\n                      className=\"form-control\"\r\n                      placeholder=\"Email\"\r\n                    />\r\n                  </div>\r\n                  <div className=\"form-group\">\r\n                    <label className=\"text-white\">Password</label>\r\n                    <input\r\n                      onChange={handleChange(\"password\")}\r\n                      placeholder=\"Password\"\r\n                      type=\"password\"\r\n                      className=\"form-control\"\r\n                      required\r\n                    />\r\n                  </div>\r\n                </Fragment>\r\n              ) : (\r\n                <AuthLoader />\r\n              )}\r\n              <button\r\n                type=\"submit\"\r\n                onClick={onSubmit}\r\n                className=\"btn btn-lg btn-primary btn-block rounded-pill my-2 \"\r\n              >\r\n                Sign Up\r\n              </button>\r\n              {performRedirect()}\r\n            </form>\r\n            <Link\r\n              to=\"/signin\"\r\n              className=\"btn btn-lg btn-secondary btn-block rounded-pill my-2 \"\r\n            >\r\n              Sign In\r\n            </Link>\r\n          </div>\r\n        </div>\r\n      </Container>\r\n    </div>\r\n  );\r\n};\r\nexport default React.memo(SignUp);\r\n","/* eslint-disable no-self-assign */\r\nimport React from \"react\";\r\nimport ProfilePic from \"./Profile/ProfilePic\";\r\nimport { isAuthenticated } from \"../Helper/authHelper\";\r\nimport { API } from \"../backend\";\r\nimport moment from \"moment\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nexport default function UserProfile({ userData }) {\r\n  const { user, token } = isAuthenticated();\r\n  let username = userData.username;\r\n  const auth = user.username === username;\r\n\r\n  const follow = () => {\r\n    fetch(`${API}/follow/${username}`, {\r\n      method: \"POST\",\r\n      headers: {\r\n        Accept: \"application/json\",\r\n        Authorization: `Bearer ${token}`,\r\n      },\r\n      body: JSON.stringify({}),\r\n    }).then((res) => {\r\n      if (res.error) {\r\n        console.log(res.error);\r\n      }\r\n      window.location.href = window.location.href;\r\n    });\r\n  };\r\n\r\n  return (\r\n    <div className=\"row border border-top-0 border-bottom-0 border-dark bg-dark p-2\">\r\n      <div className=\"col-3\">\r\n        <ProfilePic\r\n          className=\"p-1 rounded-circle\"\r\n          username={userData.username}\r\n          resolution={{ width: \"100%\", minHeight: \"100px\" }}\r\n        />\r\n        {auth ? (\r\n          <Link\r\n            to=\"/upload/profile\"\r\n            className=\"btn btn-block btn-primary rounded-pill\"\r\n          >\r\n            Upload Image\r\n          </Link>\r\n        ) : null}\r\n      </div>\r\n      <div className=\"col-7 p-4\">\r\n        <div className=\"row\">\r\n          <div className=\"col-12\">\r\n            {/* //name and username */}\r\n            <span>\r\n              <span className=\"text-white h3 p-1\">{userData.name}</span>\r\n              <span className=\"text-light h6 p-1\">@{userData.username}</span>\r\n            </span>\r\n            {/* //name and username */}\r\n          </div>\r\n          <div className=\"col-10\">\r\n            <p className=\"text-light p-1 py-2\">{userData.bio}</p>\r\n          </div>\r\n          <div className=\"col-2\">\r\n            {!auth ? (\r\n              <button\r\n                onClick={follow}\r\n                className=\"btn btn-primary rounded-pill my-2\"\r\n              >\r\n                {userData.youFollow\r\n                  ? \"Unfollow\"\r\n                  : userData.followYou\r\n                  ? \"Follow Back\"\r\n                  : \"Follow\"}\r\n              </button>\r\n            ) : (\r\n              <Link\r\n                to={`/user/update/${username}`}\r\n                className=\"btn btn-primary rounded-pill my-2\"\r\n              >\r\n                Update\r\n              </Link>\r\n            )}\r\n          </div>\r\n          <div className=\"col-12\">\r\n            <p className=\"text-info px-1 font-weight-bold\">\r\n              Birth : {moment(userData.birthdate).calendar()}\r\n            </p>\r\n            <p className=\"text-info px-1 font-weight-bold\">\r\n              Location : {userData.location}\r\n            </p>\r\n          </div>\r\n\r\n          <div className=\"col-12 px-4 py-1\">\r\n            <div className=\"row\">\r\n              <div className=\"col-4 text-dark shadow-lg font-weight-bold bg-light py-1 text-center mx-1 rounded-pill  \">\r\n                Following\r\n                <b> : {userData.following}</b>\r\n              </div>\r\n              <div className=\"col-4 text-dark shadow-lg font-weight-bold bg-light p-1 text-center mx-1 rounded-pill  \">\r\n                Followers\r\n                <b> : {userData.followers}</b>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","/* eslint-disable react-hooks/exhaustive-deps */\r\n/* eslint-disable no-unused-vars */\r\nimport React, { useState, useEffect, Fragment } from \"react\";\r\nimport Navbar from \"./Navbar\";\r\nimport { Link, Redirect } from \"react-router-dom\";\r\nimport Container from \"../Components/Container\";\r\nimport { isAuthenticated } from \"../Helper/authHelper\";\r\nimport Tweet from \"../Components/Tweet\";\r\nimport FollowingTab from \"../Components/FollowingTab\";\r\nimport { getProfile, getFollowers } from \"../Helper/userHelper\";\r\nimport { getTweets } from \"../Helper/tweetHelper\";\r\nimport UserProfile from \"../Components/UserProfile\";\r\nimport Loading from \"../Components/Loading\";\r\nimport Ring from \"../Components/loader/Ring\";\r\n\r\nexport default function UserBoard({ match }) {\r\n  const [userData, setUserData] = useState({});\r\n  const [userTweets, setUserTweets] = useState([]);\r\n  const [followers, setFollowers] = useState([]);\r\n  const [error, setError] = useState(false);\r\n  const [loadingP, setLoadingP] = useState(false);\r\n  const [loadingT, setLoadingT] = useState(false);\r\n  const [loadingF, setLoadingF] = useState(false);\r\n  const { user } = isAuthenticated();\r\n  let username = match.params.username ? match.params.username : user.username;\r\n  useEffect(() => {\r\n    setLoadingP(true);\r\n    setLoadingT(true);\r\n    setLoadingF(true);\r\n    if (isAuthenticated()) {\r\n      getFollowers(username)\r\n        .then((res) => {\r\n          if (res.error) {\r\n            setError(res.error);\r\n            return console.log(res.error);\r\n          }\r\n          setFollowers(res);\r\n          setLoadingF(false);\r\n        })\r\n        .catch((err) => {\r\n          setLoadingF(false);\r\n        });\r\n      getTweets(username)\r\n        .then((res) => {\r\n          if (res.error) {\r\n            setLoadingT(false);\r\n            return console.log(res.error);\r\n          }\r\n\r\n          setUserTweets(res);\r\n          setLoadingT(false);\r\n        })\r\n        .catch((err) => {\r\n          setLoadingT(false);\r\n        });\r\n      getProfile(username)\r\n        .then((res) => {\r\n          if (res.error) {\r\n            setLoadingP(false);\r\n            setUserData(null);\r\n            return console.log(res.error);\r\n          }\r\n          setUserData(res);\r\n          setLoadingP(false);\r\n        })\r\n        .catch((err) => {\r\n          setUserData(null);\r\n          setLoadingP(false);\r\n        });\r\n    }\r\n  }, [username]);\r\n\r\n  const userInfo = () => {\r\n    return (\r\n      <div className=\"row\">\r\n        <div className=\"col-2\">\r\n          <Navbar />\r\n        </div>\r\n        <div className=\"col-10 \">\r\n          {loadingP ? (\r\n            <div className=\"row border border-top-0 border-bottom-0 border-dark bg-dark p-2\">\r\n              <Ring />\r\n            </div>\r\n          ) : userData ? (\r\n            <UserProfile userData={userData} />\r\n          ) : (\r\n            <Redirect to=\"/me\" />\r\n          )}\r\n\r\n          <div className=\"row  border border-top-0 border-bottom-0 border-dark p-0\">\r\n            <div className=\"col-8 \">\r\n              {loadingT ? (\r\n                <Loading />\r\n              ) : userTweets.length > 0 ? (\r\n                userTweets.map((tweet) => (\r\n                  <Tweet tweet={tweet} key={tweet._id} />\r\n                ))\r\n              ) : (\r\n                <h1 className=\"text-white\">No tweets found!!</h1>\r\n              )}\r\n            </div>\r\n            <div className=\"col-4\">\r\n              <div className=\"row\">\r\n                <div\r\n                  className=\"card rounded-lg border-0 my-2\"\r\n                  style={{ width: \"100%\" }}\r\n                >\r\n                  <div className=\"card-header bg-primary text-center text-white h4 \">\r\n                    Following\r\n                  </div>\r\n                  {loadingF ? (\r\n                    <div className=\"bg-dark\">\r\n                      <Ring />\r\n                    </div>\r\n                  ) : (\r\n                    <Fragment>\r\n                      <ul className=\"list-group list-group-flush\">\r\n                        {followers.map((follower) => (\r\n                          <li\r\n                            className=\"list-group-item bg-dark text-white\"\r\n                            key={follower._id}\r\n                          >\r\n                            <FollowingTab user={follower} />\r\n                          </li>\r\n                        ))}\r\n                      </ul>\r\n                    </Fragment>\r\n                  )}\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  };\r\n  return (\r\n    <div>\r\n      <Container>\r\n        {!isAuthenticated() ? (\r\n          <div className=\"row justify-content-center text-center\">\r\n            <div className=\"col-2\">\r\n              <Navbar />\r\n            </div>\r\n            <div className=\"col-6\">\r\n              <img\r\n                src=\"https://img.icons8.com/color/480/000000/twitter.png\"\r\n                alt=\"\"\r\n              />\r\n              <div className=\"h1 text-white\">Twitter</div>\r\n              <Link to=\"/signin\" className=\"btn btn-primary\">\r\n                Signin\r\n              </Link>\r\n            </div>\r\n          </div>\r\n        ) : (\r\n          userInfo()\r\n        )}\r\n      </Container>\r\n    </div>\r\n  );\r\n}\r\n","/* eslint-disable react-hooks/exhaustive-deps */\r\n/* eslint-disable no-self-assign */\r\nimport React, { useState, useEffect } from \"react\";\r\nimport { isAuthenticated } from \"../Helper/authHelper\";\r\n\r\nimport moment from \"moment\";\r\n\r\nimport { getProfile, editProfile } from \"../Helper/userHelper\";\r\nimport { Redirect, Link } from \"react-router-dom\";\r\nimport Ring from \"./loader/Ring\";\r\n\r\nexport default function UserProfile({ match }) {\r\n  const [error, seterror] = useState(\"\");\r\n  const { user } = isAuthenticated();\r\n  const [userData, setUserData] = useState({});\r\n  const [loading, setloading] = useState(false);\r\n  const [redirect, setredirect] = useState(false);\r\n  const auth = match.params.username === user.username;\r\n\r\n  useEffect(() => {\r\n    setloading(true);\r\n    getProfile(user.username)\r\n      .then((res) => {\r\n        if (res.error) {\r\n          return console.log(res.error);\r\n        }\r\n        setUserData(res);\r\n        setloading(false);\r\n      })\r\n      .catch((err) => console.log(err));\r\n  }, []);\r\n\r\n  const handleChange = (name) => (event) => {\r\n    const value = event.target.value;\r\n    seterror(\"\");\r\n    setUserData({\r\n      ...userData,\r\n      [name]: value,\r\n    });\r\n  };\r\n  const update = () => {\r\n    editProfile(user.username, userData)\r\n      .then((res) => {\r\n        if (res.error) {\r\n          seterror(\"Failed ! ( Username is Taken )\");\r\n          return console.log(res.err);\r\n        }\r\n        console.log(\"Updated\");\r\n\r\n        let localData = JSON.parse(localStorage.getItem(\"jwt\"));\r\n        localData.user = {\r\n          ...localData.user,\r\n          bio: userData.bio,\r\n          username: userData.username,\r\n          name: userData.name,\r\n          location: userData.location,\r\n          birthdate: userData.birthdate,\r\n        };\r\n        localStorage.setItem(\"jwt\", JSON.stringify(localData));\r\n        return setredirect(true);\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  };\r\n  return auth ? (\r\n    <div className=\"container my-5 py-5\">\r\n      <div className=\"row\">\r\n        <div className=\"col-12\">\r\n          <h5 className=\" text-white text-center\">{error}</h5>\r\n        </div>\r\n        <div className=\"col-4\"></div>\r\n        {loading ? (\r\n          <Ring />\r\n        ) : (\r\n          <div className=\"col-4  border border-primary p-4 text-left text-white\">\r\n            <div className=\"row\">\r\n              <div className=\"col-12 py-2\">\r\n                <label>Name : </label>\r\n                <input\r\n                  type=\"text\"\r\n                  value={userData.name}\r\n                  className=\"form-control\"\r\n                  onChange={handleChange(\"name\")}\r\n                />\r\n              </div>\r\n              <div className=\"col-12 py-2\">\r\n                <label>Username : </label>\r\n                <input\r\n                  type=\"text\"\r\n                  value={userData.username}\r\n                  className=\"form-control\"\r\n                  onChange={handleChange(\"username\")}\r\n                />\r\n              </div>\r\n              <div className=\"col-12 py-2\">\r\n                <label className=\"text-light p-1 py-2\">Bio</label>\r\n                <textarea\r\n                  onChange={handleChange(\"bio\")}\r\n                  className=\"form-control\"\r\n                  value={userData.bio}\r\n                  rows=\"3\"\r\n                ></textarea>\r\n              </div>\r\n              <div className=\"col-12 py-2\">\r\n                <label>Birth : {moment(userData.birthdate).calendar()}</label>\r\n                <input\r\n                  type=\"date\"\r\n                  className=\"form-control\"\r\n                  onChange={handleChange(\"birthdate\")}\r\n                />\r\n              </div>\r\n              <div className=\"col-12 py-2\">\r\n                <label>Location </label>\r\n                <input\r\n                  type=\"text\"\r\n                  value={userData.location}\r\n                  className=\"form-control\"\r\n                  onChange={handleChange(\"location\")}\r\n                />\r\n              </div>\r\n              <div className=\"col-12 py-2\">\r\n                <button\r\n                  onClick={update}\r\n                  className=\"btn btn-primary btn-block rounded-pill my-2\"\r\n                >\r\n                  Update\r\n                </button>\r\n                <Link\r\n                  to={`/user/${match.params.username}`}\r\n                  className=\"btn btn-warning btn-block rounded-pill my-2\"\r\n                >\r\n                  Cancel\r\n                </Link>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        )}\r\n      </div>\r\n      {redirect && <Redirect path=\"/me\" />}\r\n    </div>\r\n  ) : (\r\n    <Redirect to={`/user/${user.username}`} />\r\n  );\r\n}\r\n","import React, { useState, useCallback } from \"react\";\r\nimport ReactCrop from \"react-image-crop\";\r\nimport \"react-image-crop/dist/ReactCrop.css\";\r\nimport { Link, Redirect } from \"react-router-dom\";\r\nimport { uploadProfilePic } from \"../Helper/userHelper\";\r\n\r\nexport default function App() {\r\n  const [upImg, setUpImg] = useState();\r\n  const [imgRef, setImgRef] = useState(null);\r\n  const [crop, setCrop] = useState({ unit: \"px\", aspect: 1 / 1 });\r\n  const [previewUrl, setPreviewUrl] = useState();\r\n  const [image, setImage] = useState(\"\");\r\n  const [redirect, setRedirect] = useState(false);\r\n  const [loading, setloading] = useState(false);\r\n  const onSelectFile = (e) => {\r\n    if (e.target.files && e.target.files.length > 0) {\r\n      const reader = new FileReader();\r\n      reader.addEventListener(\"load\", () => setUpImg(reader.result));\r\n      reader.readAsDataURL(e.target.files[0]);\r\n    }\r\n  };\r\n\r\n  const onLoad = useCallback((img) => {\r\n    setImgRef(img);\r\n  }, []);\r\n\r\n  const onUpload = () => {\r\n    setloading(true);\r\n    let formData = \"\";\r\n    formData = new FormData();\r\n\r\n    formData.set(\"picture\", image);\r\n\r\n    uploadProfilePic(formData)\r\n      .then((res) => {\r\n        setloading(false);\r\n        setRedirect(true);\r\n      })\r\n      .catch((err) => {\r\n        setloading(false);\r\n        setRedirect(true);\r\n      });\r\n  };\r\n\r\n  const makeClientCrop = async (crop) => {\r\n    if (imgRef && crop.width && crop.height) {\r\n      createCropPreview(imgRef, crop, \"newFile.jpeg\");\r\n    }\r\n  };\r\n\r\n  const createCropPreview = async (image, crop, fileName) => {\r\n    const canvas = document.createElement(\"canvas\");\r\n    const scaleX = image.naturalWidth / image.width;\r\n    const scaleY = image.naturalHeight / image.height;\r\n    canvas.width = crop.width;\r\n    canvas.height = crop.height;\r\n    const ctx = canvas.getContext(\"2d\");\r\n\r\n    ctx.drawImage(\r\n      image,\r\n      crop.x * scaleX,\r\n      crop.y * scaleY,\r\n      crop.width * scaleX,\r\n      crop.height * scaleY,\r\n      0,\r\n      0,\r\n      crop.width,\r\n      crop.height\r\n    );\r\n\r\n    return new Promise((resolve, reject) => {\r\n      canvas.toBlob((blob) => {\r\n        if (!blob) {\r\n          reject(new Error(\"Canvas is empty\"));\r\n          return;\r\n        }\r\n        blob.name = fileName;\r\n        console.log(blob);\r\n        setImage(blob);\r\n        window.URL.revokeObjectURL(previewUrl);\r\n        setPreviewUrl(window.URL.createObjectURL(blob));\r\n      }, \"image/jpeg\");\r\n    });\r\n  };\r\n\r\n  return (\r\n    <div className=\"container my-5\">\r\n      <div className=\"row justify-content-center\">\r\n        <div className=\"col-4\">\r\n          <input\r\n            type=\"file\"\r\n            accept=\"image/*\"\r\n            onChange={onSelectFile}\r\n            className=\" form-control my-1\"\r\n          />\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"row justify-content-center align-items-center\">\r\n        <div className=\"col-7\">\r\n          <ReactCrop\r\n            src={upImg}\r\n            onImageLoaded={onLoad}\r\n            crop={crop}\r\n            onChange={(c) => setCrop(c)}\r\n            onComplete={makeClientCrop}\r\n          />\r\n        </div>\r\n        <div className=\"col-5\">\r\n          {previewUrl && <img alt=\"Crop preview\" src={previewUrl} />}\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"row justify-content-center\">\r\n        <div className=\"col-2\">\r\n          <button\r\n            onClick={onUpload}\r\n            disabled={previewUrl ? false : true}\r\n            className=\"btn btn-block btn-primary my-1\"\r\n          >\r\n            {!loading ? \"Upload\" : \"Uploading...\"}\r\n          </button>\r\n        </div>\r\n        <div className=\"col-2\">\r\n          <Link to={`/me`} className=\"btn btn-block btn-danger my-1\">\r\n            Cancel\r\n          </Link>\r\n        </div>\r\n        {redirect && <Redirect to=\"/me\" />}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport { BrowserRouter, Switch, Route } from \"react-router-dom\";\r\nimport Home from \"./Container/Home\";\r\nimport SignIn from \"./Container/SignIn\";\r\nimport SignUp from \"./Container/SignUp\";\r\nimport UserBoard from \"./Container/UserBoard\";\r\nimport UserProfileUpdate from \"./Components/UserProfileUpdate\";\r\nimport UploadProfile from \"./Container/UploadProfile\";\r\nimport { isAuthenticated } from \"./Helper/authHelper\";\r\nconst Routes = () => {\r\n  return (\r\n    <BrowserRouter>\r\n      <Switch>\r\n        <Route path=\"/\" exact component={Home} />\r\n        <Route path=\"/signin\" exact component={SignIn} />\r\n        <Route path=\"/signup\" exact component={SignUp} />\r\n\r\n        {isAuthenticated() && (\r\n          <Route path=\"/user/:username\" exact component={UserBoard} />\r\n        )}\r\n        {isAuthenticated() && <Route path=\"/me\" exact component={UserBoard} />}\r\n        {isAuthenticated() && (\r\n          <Route path=\"/upload/profile\" exact component={UploadProfile} />\r\n        )}\r\n\r\n        {isAuthenticated() && (\r\n          <Route\r\n            path=\"/user/update/:username\"\r\n            exact\r\n            component={UserProfileUpdate}\r\n          />\r\n        )}\r\n      </Switch>\r\n    </BrowserRouter>\r\n  );\r\n};\r\n\r\nexport default Routes;\r\n","import React from \"react\";\nimport Routes from \"./Routes\";\nimport ReactDOM from \"react-dom\";\n\nReactDOM.render(<Routes />, document.getElementById(\"root\"));\n"],"sourceRoot":""}